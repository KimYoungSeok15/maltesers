# 'HOONI : side lateral raise' 영화 검색 및 추천 및 커뮤니티 사이트
## 프로젝트 소개
'HOONI : side lateral raise'는 Netflix, Disney를 참고하여 만든 영화 검색, 추천 및 리뷰 커뮤니티 사이트입니다.
- 영화를 검색하고 영화의 상세 정보를 확인할 수 있습니다
  - 연관된 영화를 확인할 수 있습니다.
  - 좋아하는 영화를 좋아요 버튼을 눌러 프로필에 저장할 수 있습니다.
- 영화에 대한 리뷰를 작성하고 평점을 부여할 수 있습니다
- 프로필을 관리하고 상대방을 팔로우 할 수 있습니다.
- 사용자가 좋아하는 장르를 프로필에 저장하고 그에 따라 추천 영화를 제공합니다.


## 개발기간
- 23.05.16 ~ 23.05.26(10일)

## 개발환경
- javascript & python
- Back-end Framework : Django==3.2.13
- Front-end Framwork : Vue2
- Database : sqlite3
- TMDB API
- 
## 시연 영상(유튜브 링크)

## 멤버 구성
- 김영석 : 웹페이지 화면 구현, 페이지 디자인, 게시판 CRUD 구현, API키 이용 영화 검색 구현, intro 및 main페이지 구현
- 최예훈 : server 구현, database 제작, profile 구현(프로필 사진, 팔로우, 좋아하는 장르, 찜한 영화, 쓴 글), 유저에 따른 영화 추천 알고리즘 구현, 팔로우/팔로잉 기능 구현, 

## 목표 서비스 구현 및 실제 구현 정도
### 목표 서비스
1. 영화 추천
2. 리뷰 커뮤니티(CRUD, 리뷰 검색)
3. 로그인, 회원가입
4. 영화 검색
5. 프로필(사진, 팔로우, 좋아요한 영화, 경험치)

### 구현 기능
1. 유저가 프로필에 좋아하는 장르 설정, 좋아하는 장르에 맞춘 영화 추천
2. 메인 페이지에 오늘의 영화 추천(추천 알고리즘으로 우선순위 부여)
3. 회원가입과 로그인/로그아웃, 로그인 하지 않을 시 웹 서비스 접근 불가
4. 로그인 후 영화 리뷰 작성
   1. 게시글의 작성자와 현재 로그인한 사용자를 확인하여 영화 리뷰 CRUD
   2. 로그인한 사용자를 확인하여 영화 리뷰 CRUD 영화 리뷰에 댓글 CRUD 기능
5. TMDB API 이용 
   1. 영화 검색, 영화 상세정보 페이지에서 연관 영화 
6. 리뷰 작성 시 경험치 추가
   1. 프로필에서 경험치 확인 가능
   2. 경험치 증가할수록 랭크 바뀜

## 데이터베이스 모델링(ERD)
[HOONI ERD](https://velog.io/@ef4555/%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%ED%98%84-%ED%99%94%EB%A9%B4)

## 영화 추천 알고리즘에 대한 기술적인 설명
### 메인 페이지에 오늘의 영화 추천
- TMDB API로 popular 영화 정보를 받아서 받아온 JSON 정보에서(20개)
1. 영화의 adult값이 false면 10점
2. 영화의 language가 한국어면 30점, 영어면 10점
3. 영화의 popularity를 100으로 나눈 몫
4. release_data를 내림차순으로 하여 1등부터 20등까지 내림차순으로 부여(1점부터 20점)
5. vote_average에 곱하기 10
6. vote_count를 100으로 나눈 몫
1~6의 점수를 합산하여 가장 점수가 높은 영화를 출력

### 추천 페이지에 사용자가 선호하는 영화 장르에 따른 추천영화 상세정보 표시
- 사용자의 프로필에서 선호하는 장르 입력 가능
- DB에서 사용자가 입력한 선호 장르 영화를 추출해서 추천

## 서비스 대표 기능에 대한 설명
### profile 페이지
1. 프로필 사진 등록가능(프로필 사진 없을 시 기본 프로필)
2. 회원가입 시 가입일과 가입시간 표시
3. 경험치에 따른 랭크 보여줌, 경험치 게이지 표시
4. 팔로우/팔로잉 수, 목록 보여줌, 팔로우 버튼 
5. 선호 영화 장르 입력,삭제 가능
6. 좋아요한 영화 목록(영화 상세로 이동 가능, 좋아요한 영화 목록에서 삭제 가능)
7. 해당 프로필 유저가 쓴 글 목록(링크로 이동 가능)

### Recommend Movie 페이지
- 선호 장르 영화 상세정보 출력

### Main 페이지
- 오늘의 영화, 평점 높은 영화, 최신 영화, 인기 영화 보여줌
  - 오늘의 영화 : TMDB API와 추천 알고리즘 사용하여 추천 영화 1개 출력
  - 영화 리스트 케로셀로 드래그 가능
  - 영화 포스터 클릭 시 영화 상세 페이지로 이동 가능

### Movie 페이지
- 자체 DB에 있는 영화들 보여줌
  - 페이지네이션 구현(12개씩)
- 영화 검색 기능 구현
  - TMDB API를 통해 영화 검색하고 정보를 받아옴

### 영화 상세 정보 페이지
- 영화 포스터와 영화 상세 정보
- 영화 찜 기능
- 영화의 최근 리뷰 볼 수 있는 기능
- 이 영화의 리뷰 작성페이지로 바로 갈 수 있는 버튼 구현
- TMDB API를 이용하여 비슷한 영화 출력

### Random 페이지
- DB에서 순수하게 랜덤으로 영화 상세 정보 출력

### Review 페이지
- 영화 리뷰를 작성할 수 있는 페이지
- 리뷰 페이지에서 작성자 클릭 시 작성자 프로필 페이지로 이동
- 리뷰 검색 기능(제목과 내용 고려)

#### Review 상세 페이지
- 영화 리뷰 CRUD가능, 토큰을 통해 사용자를 판별하고 자신의 글만 수정, 삭제 가능
- 댓글 기능 구현
  - 댓글 CRUD 가능
    - 댓글 CRUD시 작성자와 사용자 일치 확인

#### Review 작성 페이지
- 제목, 영화제목, 장르, 평점 내용 입력가능

## 서비스 구현 화면
[서비스 구현 화면](https://velog.io/@ef4555/%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%ED%98%84-%ED%99%94%EB%A9%B4)

## 후기
### 김영석
학창시절 미술 수행평가에서 늘 낙방했던 내가 이세계에선 프론트 개발자?!
라고 생각하며 시작했지만, 생각보다 로직적인 부분이 많이 들어갔다.
‘장고는 보이지 않는 부분만 담당하니까 Vue는 보이는 부분만 담당한다’ 는 굉장한 착각!
화려함과 난이도는 비례하지 않는다는 것을 통감했다. 특히 게시판 수정/삭제 및 메인페이지 추천영화에서.
이번 프로젝트에만 axios 요청을 20번 이상 보냈다. 이젠 눈감고도…(착각)
마지막엔 구현 못한 부분에 대한 아쉬움과 이쯤에서 그만두고 싶다는 상반된 생각이 공존했다.
둘이서 하는 프로젝트는 팀워크가 매우 중요하다! 
하루하루 실력이 늘어가는 만큼 부족함도 점점 더 크게 느끼게 되었다.
지나간 것은 지나간 것. 앞으로 나아가기 위한 발판으로 삼자.

### 최예훈
- 데이터베이스 구축부터 추천 알고리즘 개발, 클라이언트 요청에 맞춘 데이터를 보내는 역할을 처음부터 끝까지 수행해보았다. 매우 재미있는 활동이었다. 직접 내가 기능을 하나하나 구현하고 눈으로 보인다는 것이 즐거워서 시간 가는 줄 모르고 프로젝트를 진행했다. 클라이언트가 서버로 정보를 보내고 서버가 클라이언트에 요청에 따른 응답을 전달하여 클라이언트가 화면을 구성하는 웹 서비스의 전반적인 흐름을 이해할 수 있어 좋은 경험이었다.
- ERD를 명확하게 정하지 않고 만들기 시작하여 DB 구조를 설계하는 데 어려움을 겪었다. DB를 구성하는데 외래 키와 M:N관계를 명확하게 설정하지 않고 모든 모델에 username을 넣고 username을 통해 DB에서 정보를 받아오는 방식으로 구현하였다. 올바른 방식으로 구현하기 보다 단순히 작동을 위해 단순하게 구현한 것 같아서 아쉽다.
-  REST API에 대해 기초적인 실습만을 진행했었는데 실제 정보를 바탕으로 DB를 구축하고 django serializer를 통해 정보를 보내는 과정을 통해 RESTful한 구조를 더 잘 이해할 수 있었다. 그리고 dj-rest-auth를 처음 사용해보았는데 기본적으로 DB 구조와 URL을 설정해주는 것이 매우 편리하여 
- 명확한 계획 없이 서비스를 제작하다 보니 그 때 그 때 상황에 맞게만 DB를 구축하고 페이지에서 메서드를 제작한 경우가 많았다. 비슷한 기능을 가진 코드를 재사용하지 않다 보니 가독성과 재사용성이 부족했다. 유지보수나 오류가 발생했을 시 명확하게 원인을 찾기가 어려웠다.
- DB에 정보가 없을 때 404에러가 나는 것을 백엔드에서 처리해서 보내주어야 하는데 그것을 고려하지 못하여 프론트엔드에서 404를 catch로 처리해야 하는 경우가 많았다. 미리 사전에 차단하면 더 좋았을 것 같다. 
- 각종 에러 발생 시 해결하는데 시간이 너무 오래 걸렸다. 백엔드 작업을 수행 할 시 정보의 흐름을 읽기 어려웠다. 일일히 print를 찍어가면서 확인하는 습관을 길러야겠다. 
- token을 사용하여 권한을 설정하는 부분이 까다롭게 느껴졌다. 
- FE와 BE가 독립적인 것이 아니라 같이 논의하면서 어느 단에서 오류가 발생하였는지, 어떤 기능이 필요하고 정보를 어떻게 주고받을 것인지 논의하는 과정이 필요하다는 것을 느꼈다. 

